\section{Shared\+Nodal\+Interp\+Poly\+Approx\+Data Class Reference}
\label{classPecos_1_1SharedNodalInterpPolyApproxData}\index{Shared\+Nodal\+Interp\+Poly\+Approx\+Data@{Shared\+Nodal\+Interp\+Poly\+Approx\+Data}}


Derived approximation class for nodal interpolation polynomials (global approximation interpolating function values and potentially gradients at collocation points).  


Inheritance diagram for Shared\+Nodal\+Interp\+Poly\+Approx\+Data\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{classPecos_1_1SharedNodalInterpPolyApproxData}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_a227242517d3621c03cd2940593de17d8}{Shared\+Nodal\+Interp\+Poly\+Approx\+Data} (short basis\+\_\+type, size\+\_\+t num\+\_\+vars)\label{classPecos_1_1SharedNodalInterpPolyApproxData_a227242517d3621c03cd2940593de17d8}

\begin{DoxyCompactList}\small\item\em lightweight constructor \end{DoxyCompactList}\item 
\hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_a7b94950e7e50b607092b9c76968389c9}{Shared\+Nodal\+Interp\+Poly\+Approx\+Data} (short basis\+\_\+type, size\+\_\+t num\+\_\+vars, const \hyperlink{classPecos_1_1ExpansionConfigOptions}{Expansion\+Config\+Options} \&ec\+\_\+options, const \hyperlink{classPecos_1_1BasisConfigOptions}{Basis\+Config\+Options} \&bc\+\_\+options)\label{classPecos_1_1SharedNodalInterpPolyApproxData_a7b94950e7e50b607092b9c76968389c9}

\begin{DoxyCompactList}\small\item\em full constructor \end{DoxyCompactList}\item 
\hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_ae907af83c83b0b7f24c897de82cf7956}{$\sim$\+Shared\+Nodal\+Interp\+Poly\+Approx\+Data} ()\label{classPecos_1_1SharedNodalInterpPolyApproxData_ae907af83c83b0b7f24c897de82cf7956}

\begin{DoxyCompactList}\small\item\em destructor \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_af8c5dd497976d775d2c600c9950f6b2e}{allocate\+\_\+data} (size\+\_\+t index=\+\_\+\+N\+P\+OS)\label{classPecos_1_1SharedNodalInterpPolyApproxData_af8c5dd497976d775d2c600c9950f6b2e}

\begin{DoxyCompactList}\small\item\em allocate the shared data prior to building the set of approximations \end{DoxyCompactList}\item 
void \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_a489e05c9d1bc07d7120ce3dfc9a7e66a}{allocate\+\_\+component\+\_\+sobol} ()\label{classPecos_1_1SharedNodalInterpPolyApproxData_a489e05c9d1bc07d7120ce3dfc9a7e66a}

\begin{DoxyCompactList}\small\item\em allocate sobol\+Index\+Map based on collocation keys \end{DoxyCompactList}\item 
void \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_ae66f3349bfdbb48a266dd09760f4f023}{increment\+\_\+component\+\_\+sobol} ()\label{classPecos_1_1SharedNodalInterpPolyApproxData_ae66f3349bfdbb48a266dd09760f4f023}

\begin{DoxyCompactList}\small\item\em update sobol\+Index\+Map based on a refinement increment \end{DoxyCompactList}\item 
void \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_a66e56a4893ad9caf1f6be673c3d77128}{set\+\_\+new\+\_\+point} (const Real\+Vector \&x, const U\+Short\+Array \&basis\+\_\+index, short order)\label{classPecos_1_1SharedNodalInterpPolyApproxData_a66e56a4893ad9caf1f6be673c3d77128}

\begin{DoxyCompactList}\small\item\em set point values within 1D basis polynomials for purposes of barycentric precomputation \end{DoxyCompactList}\item 
void \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_a4de6e6ae6cf7f728ab4f05773015ccaa}{set\+\_\+new\+\_\+point} (const Real\+Vector \&x, const U\+Short\+Array \&basis\+\_\+index, const Sizet\+List \&subset\+\_\+indices, short order)\label{classPecos_1_1SharedNodalInterpPolyApproxData_a4de6e6ae6cf7f728ab4f05773015ccaa}

\begin{DoxyCompactList}\small\item\em set point values within subset of 1D basis polynomials for purposes of barycentric precomputation \end{DoxyCompactList}\item 
size\+\_\+t \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_a7c23d0f2145a4a2ad61fa7f6f2feb13e}{barycentric\+\_\+exact\+\_\+index} (const U\+Short\+Array \&basis\+\_\+index)\label{classPecos_1_1SharedNodalInterpPolyApproxData_a7c23d0f2145a4a2ad61fa7f6f2feb13e}

\begin{DoxyCompactList}\small\item\em for an exact point match in all dimensions, return the tensor-\/product index of the matching point \end{DoxyCompactList}\item 
size\+\_\+t \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_ac30b80dcedaab190a93a5c381ca1468d}{barycentric\+\_\+exact\+\_\+index} (const U\+Short\+Array \&basis\+\_\+index, const Sizet\+List \&subset\+\_\+indices)\label{classPecos_1_1SharedNodalInterpPolyApproxData_ac30b80dcedaab190a93a5c381ca1468d}

\begin{DoxyCompactList}\small\item\em for an exact point match in all dimensions within subset\+\_\+indices, return the tensor-\/product index of the matching point \end{DoxyCompactList}\item 
\hyperlink{classPecos_1_1TensorProductDriver}{Tensor\+Product\+Driver} $\ast$ \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_aecf09ae2f3421803794fffa2ddc779a9}{tpq\+\_\+driver} ()\label{classPecos_1_1SharedNodalInterpPolyApproxData_aecf09ae2f3421803794fffa2ddc779a9}

\begin{DoxyCompactList}\small\item\em return driver\+Rep cast to requested derived type \end{DoxyCompactList}\item 
\hyperlink{classPecos_1_1CombinedSparseGridDriver}{Combined\+Sparse\+Grid\+Driver} $\ast$ \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_a318d97dbe0d8d4293d996be0fd6df99a}{csg\+\_\+driver} ()\label{classPecos_1_1SharedNodalInterpPolyApproxData_a318d97dbe0d8d4293d996be0fd6df99a}

\begin{DoxyCompactList}\small\item\em return driver\+Rep cast to requested derived type \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_a9275b6f1c90edf907c3cd35eff0c4758}{accumulate\+\_\+barycentric} (Real\+Vector \&t1\+\_\+accumulator, const U\+Short\+Array \&lev\+\_\+index, const U\+Short\+Array \&key\+\_\+p)\label{classPecos_1_1SharedNodalInterpPolyApproxData_a9275b6f1c90edf907c3cd35eff0c4758}

\begin{DoxyCompactList}\small\item\em update accumulators for barycentric type1 contributions to moment value \end{DoxyCompactList}\item 
void \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_acdaea4ac4c897f9ca14326b8a7bcced7}{accumulate\+\_\+horners} (Real\+Vector \&t1\+\_\+accumulator, const U\+Short\+Array \&lev\+\_\+index, const U\+Short\+Array \&key\+\_\+p, const Real\+Vector \&x)\label{classPecos_1_1SharedNodalInterpPolyApproxData_acdaea4ac4c897f9ca14326b8a7bcced7}

\begin{DoxyCompactList}\small\item\em update accumulators for type1 contributions to moment value \end{DoxyCompactList}\item 
void \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_a4bebbc97c0cf05a4ecddcbbbc83f229c}{accumulate\+\_\+horners} (Real\+Vector \&t1\+\_\+accumulator, Real\+Matrix \&t2\+\_\+accumulator, const U\+Short\+Array \&lev\+\_\+index, const U\+Short\+Array \&key\+\_\+p, const Real\+Vector \&x)\label{classPecos_1_1SharedNodalInterpPolyApproxData_a4bebbc97c0cf05a4ecddcbbbc83f229c}

\begin{DoxyCompactList}\small\item\em update accumulators for type1 + type2 contributions to moment value \end{DoxyCompactList}\item 
void \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_af8bf899f75945544343081be0174cd6d}{accumulate\+\_\+barycentric\+\_\+gradient} (Real\+Matrix \&t1\+\_\+accumulator, const U\+Short\+Array \&lev\+\_\+index, const U\+Short\+Array \&key\+\_\+p, const Sizet\+Array \&dvv)\label{classPecos_1_1SharedNodalInterpPolyApproxData_af8bf899f75945544343081be0174cd6d}

\begin{DoxyCompactList}\small\item\em update accumulators for barycentric type1 contributions to moment gradient \end{DoxyCompactList}\item 
void \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_aab4bedf76f70118596f59ed58005af0d}{accumulate\+\_\+horners\+\_\+gradient} (Real\+Matrix \&t1\+\_\+accumulator, const U\+Short\+Array \&lev\+\_\+index, const U\+Short\+Array \&key\+\_\+p, const Sizet\+Array \&dvv, const Real\+Vector \&x)\label{classPecos_1_1SharedNodalInterpPolyApproxData_aab4bedf76f70118596f59ed58005af0d}

\begin{DoxyCompactList}\small\item\em update accumulators for type1 contributions to moment gradient \end{DoxyCompactList}\item 
void \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_ab77b63c4f0f0d2cb9c0e22ae786d4c62}{accumulate\+\_\+horners\+\_\+gradient} (Real\+Matrix \&t1\+\_\+accumulator, Real\+Matrix\+Array \&t2\+\_\+accumulators, const U\+Short\+Array \&lev\+\_\+index, const U\+Short\+Array \&key\+\_\+p, const Sizet\+Array \&dvv, const Real\+Vector \&x)\label{classPecos_1_1SharedNodalInterpPolyApproxData_ab77b63c4f0f0d2cb9c0e22ae786d4c62}

\begin{DoxyCompactList}\small\item\em update accumulators for type1 + type2 contributions to moment gradient \end{DoxyCompactList}\item 
void \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_a7d47dcaaf6ef3a82c495a7364e891b20}{update\+\_\+nonzero\+\_\+basis\+\_\+products} (const U\+Short2\+D\+Array \&sm\+\_\+multi\+\_\+index)
\begin{DoxyCompactList}\small\item\em update precomputation of nonzero multidimensional integrals of products of interpolation polynomials \end{DoxyCompactList}\item 
bool \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_a843bf3984d474092d66ecd59bd7ac30f}{basis\+\_\+product\+\_\+1d} (\hyperlink{classPecos_1_1InterpolationPolynomial}{Interpolation\+Polynomial} $\ast$poly\+\_\+rep\+\_\+1, \hyperlink{classPecos_1_1InterpolationPolynomial}{Interpolation\+Polynomial} $\ast$poly\+\_\+rep\+\_\+2, unsigned short key\+\_\+1, unsigned short key\+\_\+2, const Real\+Array \&pts, const Real\+Array \&wts, Real \&prod)\label{classPecos_1_1SharedNodalInterpPolyApproxData_a843bf3984d474092d66ecd59bd7ac30f}

\begin{DoxyCompactList}\small\item\em evaluate 1D integral of product of interpolation polynomials \end{DoxyCompactList}\item 
bool \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_ac21a0b1255c108d7e0d44995d48b7c76}{basis\+\_\+product} (const U\+Short\+Array \&lev\+\_\+index\+\_\+1, const U\+Short\+Array \&key\+\_\+1, const U\+Short\+Array \&lev\+\_\+index\+\_\+2, const U\+Short\+Array \&key\+\_\+2, Real \&prod)\label{classPecos_1_1SharedNodalInterpPolyApproxData_ac21a0b1255c108d7e0d44995d48b7c76}

\begin{DoxyCompactList}\small\item\em lookup multidimensional integral of products of interpolation polynomials \end{DoxyCompactList}\item 
void \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_ae4a694a92e56149b20cf5b7450d3518a}{reinterpolated\+\_\+level} (const U\+Short\+Array \&lev\+\_\+index)
\begin{DoxyCompactList}\small\item\em computes higher-\/order grid for tensor reinterpolation of the covariance fn for non-\/integrated dimensions in all\+\_\+variables mode \end{DoxyCompactList}\item 
void \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_acc8e046d91e34a5404891d6bd48aa2d0}{update\+\_\+member\+\_\+key} (const U\+Short\+Array \&data, const Sizet\+List \&member\+\_\+indices, U\+Short\+Array \&member\+\_\+map\+\_\+key, size\+\_\+t cntr)\label{classPecos_1_1SharedNodalInterpPolyApproxData_acc8e046d91e34a5404891d6bd48aa2d0}

\begin{DoxyCompactList}\small\item\em create a unique map key for value() and gradient() calculation reuse \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
short \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_a2ec0986a45efa417a7c73b5dc828c42b}{moment\+Interp\+Type}\label{classPecos_1_1SharedNodalInterpPolyApproxData_a2ec0986a45efa417a7c73b5dc828c42b}

\begin{DoxyCompactList}\small\item\em type of interpolation for all-\/variables covariance and variance gradient \end{DoxyCompactList}\item 
\hyperlink{classPecos_1_1IntegrationDriver}{Integration\+Driver} \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_af74bc5e2385433ae7f1c301fae5a8011}{exp\+Moment\+Int\+Driver}\label{classPecos_1_1SharedNodalInterpPolyApproxData_af74bc5e2385433ae7f1c301fae5a8011}

\begin{DoxyCompactList}\small\item\em special tensor/sparse integration driver for (exactly) computing expansion moments using sufficiently high-\/order Gaussian quadrature rules on the interpolant \end{DoxyCompactList}\item 
Sizet\+Array \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_a62fe679f736de63f8cafd553b3600e9a}{non\+Zeros\+Map\+Indices}\label{classPecos_1_1SharedNodalInterpPolyApproxData_a62fe679f736de63f8cafd553b3600e9a}

\begin{DoxyCompactList}\small\item\em map from random index to unique non\+Zeros\+Map\+Array \end{DoxyCompactList}\item 
U\+Short\+Array \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_a0b51566c2aedf5d11900b8c691914fe1}{non\+Zeros\+Map\+Max\+Levels}\label{classPecos_1_1SharedNodalInterpPolyApproxData_a0b51566c2aedf5d11900b8c691914fe1}

\begin{DoxyCompactList}\small\item\em tracks level maxima already populated within non\+Zeros\+Map \end{DoxyCompactList}\item 
std\+::vector$<$ U\+Short2\+D\+Multi\+Set\+Real\+Map $>$ \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_a2f9386a177cfb18300410acf3e6021ed}{non\+Zeros\+Map\+Array}\label{classPecos_1_1SharedNodalInterpPolyApproxData_a2f9386a177cfb18300410acf3e6021ed}

\begin{DoxyCompactList}\small\item\em expectations of products of interpolation polynomials, precomputed in \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData_a7d47dcaaf6ef3a82c495a7364e891b20}{update\+\_\+nonzero\+\_\+basis\+\_\+products()} for efficiency \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class {\bfseries Nodal\+Interp\+Poly\+Approximation}\label{classPecos_1_1SharedNodalInterpPolyApproxData_a99c7b13c38f494e387170b138587e3fb}

\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Derived approximation class for nodal interpolation polynomials (global approximation interpolating function values and potentially gradients at collocation points). 

The \hyperlink{classPecos_1_1SharedNodalInterpPolyApproxData}{Shared\+Nodal\+Interp\+Poly\+Approx\+Data} class provides a global polynomial approximation based on either Lagrange or Hermite interpolation polynomials using a nodal basis approach. It is used primarily for stochastic collocation approaches to uncertainty quantification. 

\subsection{Member Function Documentation}
\index{Pecos\+::\+Shared\+Nodal\+Interp\+Poly\+Approx\+Data@{Pecos\+::\+Shared\+Nodal\+Interp\+Poly\+Approx\+Data}!update\+\_\+nonzero\+\_\+basis\+\_\+products@{update\+\_\+nonzero\+\_\+basis\+\_\+products}}
\index{update\+\_\+nonzero\+\_\+basis\+\_\+products@{update\+\_\+nonzero\+\_\+basis\+\_\+products}!Pecos\+::\+Shared\+Nodal\+Interp\+Poly\+Approx\+Data@{Pecos\+::\+Shared\+Nodal\+Interp\+Poly\+Approx\+Data}}
\subsubsection[{\texorpdfstring{update\+\_\+nonzero\+\_\+basis\+\_\+products(const U\+Short2\+D\+Array \&sm\+\_\+multi\+\_\+index)}{update_nonzero_basis_products(const UShort2DArray &sm_multi_index)}}]{\setlength{\rightskip}{0pt plus 5cm}void update\+\_\+nonzero\+\_\+basis\+\_\+products (
\begin{DoxyParamCaption}
\item[{const U\+Short2\+D\+Array \&}]{sm\+\_\+multi\+\_\+index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classPecos_1_1SharedNodalInterpPolyApproxData_a7d47dcaaf6ef3a82c495a7364e891b20}


update precomputation of nonzero multidimensional integrals of products of interpolation polynomials 

Used for pre-\/computing the expected values of basis polynomial products within the P\+R\+O\+D\+U\+C\+T\+\_\+\+O\+F\+\_\+\+I\+N\+T\+E\+R\+P\+O\+L\+A\+N\+T\+S\+\_\+\+F\+U\+LL option for all\+\_\+variables covariance. 

References Shared\+Nodal\+Interp\+Poly\+Approx\+Data\+::basis\+\_\+product(), Shared\+Nodal\+Interp\+Poly\+Approx\+Data\+::basis\+\_\+product\+\_\+1d(), Integration\+Driver\+::collocation\+\_\+points\+\_\+1d(), Shared\+Poly\+Approx\+Data\+::driver\+Rep, Interpolation\+Polynomial\+::interpolation\+\_\+size(), Shared\+Nodal\+Interp\+Poly\+Approx\+Data\+::non\+Zeros\+Map\+Array, Shared\+Nodal\+Interp\+Poly\+Approx\+Data\+::non\+Zeros\+Map\+Indices, Shared\+Nodal\+Interp\+Poly\+Approx\+Data\+::non\+Zeros\+Map\+Max\+Levels, Shared\+Basis\+Approx\+Data\+::num\+Vars, Shared\+Interp\+Poly\+Approx\+Data\+::polynomial\+Basis, Shared\+Poly\+Approx\+Data\+::random\+Indices, Shared\+Interp\+Poly\+Approx\+Data\+::same\+\_\+basis(), and Integration\+Driver\+::type1\+\_\+collocation\+\_\+weights\+\_\+1d().



Referenced by Nodal\+Interp\+Poly\+Approximation\+::covariance(), and Shared\+Nodal\+Interp\+Poly\+Approx\+Data\+::reinterpolated\+\_\+level().

\index{Pecos\+::\+Shared\+Nodal\+Interp\+Poly\+Approx\+Data@{Pecos\+::\+Shared\+Nodal\+Interp\+Poly\+Approx\+Data}!reinterpolated\+\_\+level@{reinterpolated\+\_\+level}}
\index{reinterpolated\+\_\+level@{reinterpolated\+\_\+level}!Pecos\+::\+Shared\+Nodal\+Interp\+Poly\+Approx\+Data@{Pecos\+::\+Shared\+Nodal\+Interp\+Poly\+Approx\+Data}}
\subsubsection[{\texorpdfstring{reinterpolated\+\_\+level(const U\+Short\+Array \&lev\+\_\+index)}{reinterpolated_level(const UShortArray &lev_index)}}]{\setlength{\rightskip}{0pt plus 5cm}void reinterpolated\+\_\+level (
\begin{DoxyParamCaption}
\item[{const U\+Short\+Array \&}]{lev\+\_\+index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classPecos_1_1SharedNodalInterpPolyApproxData_ae4a694a92e56149b20cf5b7450d3518a}


computes higher-\/order grid for tensor reinterpolation of the covariance fn for non-\/integrated dimensions in all\+\_\+variables mode 

Computes the specifics of a higher order grid for reinterpolating covariance over dimensions that will not be integrated. 

References Shared\+Poly\+Approx\+Data\+::driver\+Rep, Shared\+Poly\+Approx\+Data\+::non\+Random\+Indices, Integration\+Driver\+::reinterpolated\+\_\+level\+\_\+index(), Integration\+Driver\+::reinterpolated\+\_\+tensor\+\_\+grid(), Shared\+Nodal\+Interp\+Poly\+Approx\+Data\+::update\+\_\+nonzero\+\_\+basis\+\_\+products(), and Shared\+Interp\+Poly\+Approx\+Data\+::update\+\_\+tensor\+\_\+interpolation\+\_\+basis().



Referenced by Shared\+Nodal\+Interp\+Poly\+Approx\+Data\+::accumulate\+\_\+horners\+\_\+gradient().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Shared\+Nodal\+Interp\+Poly\+Approx\+Data.\+hpp\item 
Shared\+Nodal\+Interp\+Poly\+Approx\+Data.\+cpp\end{DoxyCompactItemize}
