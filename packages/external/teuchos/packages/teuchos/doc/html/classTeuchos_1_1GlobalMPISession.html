<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Teuchos - Trilinos Tools Package: Teuchos::GlobalMPISession Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Teuchos - Trilinos Tools Package
   &#160;<span id="projectnumber">Version of the Day</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceTeuchos.html">Teuchos</a></li><li class="navelem"><a class="el" href="classTeuchos_1_1GlobalMPISession.html">GlobalMPISession</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classTeuchos_1_1GlobalMPISession-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Teuchos::GlobalMPISession Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Initialize, finalize, and query the global MPI session.  
 <a href="classTeuchos_1_1GlobalMPISession.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Teuchos__GlobalMPISession_8hpp_source.html">Teuchos_GlobalMPISession.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Public constructor and destructor</div></td></tr>
<tr class="memitem:a1b27c39343f92ac39c448133f3f4810f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1GlobalMPISession.html#a1b27c39343f92ac39c448133f3f4810f">GlobalMPISession</a> (int *argc, char ***argv, std::ostream *out=&amp;std::cout)</td></tr>
<tr class="memdesc:a1b27c39343f92ac39c448133f3f4810f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls <code>MPI_Init()</code> if MPI is enabled.  <a href="#a1b27c39343f92ac39c448133f3f4810f">More...</a><br /></td></tr>
<tr class="separator:a1b27c39343f92ac39c448133f3f4810f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac790f167e594ac27abbaf90a6a3ddc99"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1GlobalMPISession.html#ac790f167e594ac27abbaf90a6a3ddc99">~GlobalMPISession</a> ()</td></tr>
<tr class="memdesc:ac790f167e594ac27abbaf90a6a3ddc99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call <code>MPI_Finalize()</code> if MPI is enabled.  <a href="#ac790f167e594ac27abbaf90a6a3ddc99">More...</a><br /></td></tr>
<tr class="separator:ac790f167e594ac27abbaf90a6a3ddc99"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Static functions</div></td></tr>
<tr class="memitem:a4b365994186b23d48a0d972d8bac1178"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1GlobalMPISession.html#a4b365994186b23d48a0d972d8bac1178">mpiIsInitialized</a> ()</td></tr>
<tr class="memdesc:a4b365994186b23d48a0d972d8bac1178"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return whether MPI was initialized.  <a href="#a4b365994186b23d48a0d972d8bac1178">More...</a><br /></td></tr>
<tr class="separator:a4b365994186b23d48a0d972d8bac1178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f5b947725d81e76c45ebfa2d2ac9fbe"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1GlobalMPISession.html#a7f5b947725d81e76c45ebfa2d2ac9fbe">mpiIsFinalized</a> ()</td></tr>
<tr class="memdesc:a7f5b947725d81e76c45ebfa2d2ac9fbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return whether MPI was already finalized.  <a href="#a7f5b947725d81e76c45ebfa2d2ac9fbe">More...</a><br /></td></tr>
<tr class="separator:a7f5b947725d81e76c45ebfa2d2ac9fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bffffa883a6c0b20ce5dfafcbe71f38"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1GlobalMPISession.html#a0bffffa883a6c0b20ce5dfafcbe71f38">getRank</a> ()</td></tr>
<tr class="memdesc:a0bffffa883a6c0b20ce5dfafcbe71f38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the process rank relative to <code>MPI_COMM_WORLD</code>  <a href="#a0bffffa883a6c0b20ce5dfafcbe71f38">More...</a><br /></td></tr>
<tr class="separator:a0bffffa883a6c0b20ce5dfafcbe71f38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20f86b4773ad754560336a8c0611e2b5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1GlobalMPISession.html#a20f86b4773ad754560336a8c0611e2b5">getNProc</a> ()</td></tr>
<tr class="memdesc:a20f86b4773ad754560336a8c0611e2b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of processors relative to <code>MPI_COMM_WORLD</code>  <a href="#a20f86b4773ad754560336a8c0611e2b5">More...</a><br /></td></tr>
<tr class="separator:a20f86b4773ad754560336a8c0611e2b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Initialize, finalize, and query the global MPI session. </p>
<p>This class insulates basic <code>main()</code> program type of code from having to know if MPI is enabled or not. The typical use case is to replace an explicit call to MPI_Init() in your main() routine with creation of a <a class="el" href="classTeuchos_1_1GlobalMPISession.html" title="Initialize, finalize, and query the global MPI session. ">GlobalMPISession</a> instance. The instance's destructor (which in this case will be called at the end of main()) then calls MPI_Finalize(). So, instead of writing: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> main () {</div><div class="line">  (void) MPI_Init (&amp;argc, &amp;argv);</div><div class="line">  <span class="comment">// Your code goes here ...</span></div><div class="line">  (void) MPI_Finalize ();</div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p> you would write: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Teuchos__GlobalMPISession_8hpp.html">Teuchos_GlobalMPISession.hpp</a>&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main () {</div><div class="line">  <a class="code" href="classTeuchos_1_1GlobalMPISession.html">Teuchos::GlobalMPISession</a> (&amp;argc, &amp;argv, NULL);</div><div class="line">  <span class="comment">// Your code goes here ...</span></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p> This saves you from needing to remember to call MPI_Init() or MPI_Finalize(). <a class="el" href="classTeuchos_1_1GlobalMPISession.html" title="Initialize, finalize, and query the global MPI session. ">GlobalMPISession</a> cleverly checks whether MPI has been initialized already before calling MPI_Init(), so you can use it in your libraries without needing to know whether users have called MPI_Init() yet.</p>
<p>This class even works if you have not built Trilinos with MPI support. In that case, it behaves as if MPI_COMM_WORLD had one process, which is always the calling process. Thus, you can use this class to insulate your code from needing to know about MPI. You don't even have to include mpi.h, as long as your code doesn't directly use MPI routines or types. <a class="el" href="namespaceTeuchos.html" title="The Teuchos namespace contains all of the classes, structs and enums used by Teuchos, as well as a number of utility routines. ">Teuchos</a> implements wrappers for MPI communicators (see <a class="el" href="classTeuchos_1_1Comm.html" title="Abstract interface class for a basic communication channel between one or more processes. ">Comm</a> and its subclasses) which allow you to use a subset of MPI functionality without needing to include mpi.h or depend on MPI in any way. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="ArrayRCP_test_8cpp-example.html#_a12">ArrayRCP_test.cpp</a>, <a class="el" href="CommandLineProcessor_2cxx_main_8cpp-example.html#_a0">CommandLineProcessor/cxx_main.cpp</a>, <a class="el" href="FancyOutputting_test_8cpp-example.html#_a13">FancyOutputting_test.cpp</a>, and <a class="el" href="test_2MemoryManagement_2RCP_test_8cpp-example.html#_a6">test/MemoryManagement/RCP_test.cpp</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="Teuchos__GlobalMPISession_8hpp_source.html#l00096">96</a> of file <a class="el" href="Teuchos__GlobalMPISession_8hpp_source.html">Teuchos_GlobalMPISession.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1b27c39343f92ac39c448133f3f4810f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Teuchos::GlobalMPISession::GlobalMPISession </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char ***&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ostream *&#160;</td>
          <td class="paramname"><em>out</em> = <code>&amp;std::cout</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calls <code>MPI_Init()</code> if MPI is enabled. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>[in] Address of the argument passed into <code>main(argc,argv)</code>. Same as the first argument of MPI_Init().</td></tr>
    <tr><td class="paramname">argv</td><td>[in] Address of the argument passed into <code>main(argc,argv)</code>. Same as the second argument of MPI_Init().</td></tr>
    <tr><td class="paramname">out</td><td>[in] If <code>out!=NULL</code>, then a small message on each processor will be printed to this stream. The default is <code>&amp;std::cout</code>.</td></tr>
  </table>
  </dd>
</dl>
<p>If the option <code>&ndash;teuchos-suppress-startup-banner</code> is found, the this option will be removed from <code>argv[]</code> before being passed to <code>MPI_Init(...)</code> and the startup output message to <code>*out</code> will be suppressed.</p>
<p>If <a class="el" href="namespaceTeuchos.html" title="The Teuchos namespace contains all of the classes, structs and enums used by Teuchos, as well as a number of utility routines. ">Teuchos</a> was <em>not</em> built with MPI support, the constructor just prints a startup banner (unless the banner was suppressed &ndash; see previous paragraph). You can always use this class, whether or not <a class="el" href="namespaceTeuchos.html" title="The Teuchos namespace contains all of the classes, structs and enums used by Teuchos, as well as a number of utility routines. ">Teuchos</a> was built with MPI.</p>
<dl class="section warning"><dt>Warning</dt><dd>This constructor can only be called once per executable. Otherwise, an error is printed to <code>*out</code> and an std::exception will be thrown! </dd></dl>

<p>Definition at line <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html#l00060">60</a> of file <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html">Teuchos_GlobalMPISession.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac790f167e594ac27abbaf90a6a3ddc99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Teuchos::GlobalMPISession::~GlobalMPISession </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call <code>MPI_Finalize()</code> if MPI is enabled. </p>

<p>Definition at line <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html#l00121">121</a> of file <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html">Teuchos_GlobalMPISession.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a4b365994186b23d48a0d972d8bac1178"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Teuchos::GlobalMPISession::mpiIsInitialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return whether MPI was initialized. </p>

<p>Definition at line <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html#l00135">135</a> of file <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html">Teuchos_GlobalMPISession.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7f5b947725d81e76c45ebfa2d2ac9fbe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Teuchos::GlobalMPISession::mpiIsFinalized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return whether MPI was already finalized. </p>

<p>Definition at line <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html#l00141">141</a> of file <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html">Teuchos_GlobalMPISession.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0bffffa883a6c0b20ce5dfafcbe71f38"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Teuchos::GlobalMPISession::getRank </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the process rank relative to <code>MPI_COMM_WORLD</code> </p>
<p>Returns <code>0</code> if MPI is not enabled.</p>
<p>Note, this function can be called even if the above constructor was never called so it is safe to use no matter how <code>MPI_Init()</code> got called (but it must have been called somewhere). </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="CommandLineProcessor_2cxx_main_8cpp-example.html#a1">CommandLineProcessor/cxx_main.cpp</a>, <a class="el" href="FancyOutputting_test_8cpp-example.html#a19">FancyOutputting_test.cpp</a>, and <a class="el" href="test_2MemoryManagement_2RCP_test_8cpp-example.html#a7">test/MemoryManagement/RCP_test.cpp</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html#l00146">146</a> of file <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html">Teuchos_GlobalMPISession.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a20f86b4773ad754560336a8c0611e2b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Teuchos::GlobalMPISession::getNProc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of processors relative to <code>MPI_COMM_WORLD</code> </p>
<p>Returns <code>1</code> if MPI is not enabled.</p>
<p>Note, this function can be called even if the above constructor was never called so it is safe to use no matter how <code>MPI_Init()</code> got called (but it must have been called somewhere). </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="FancyOutputting_test_8cpp-example.html#a14">FancyOutputting_test.cpp</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html#l00153">153</a> of file <a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html">Teuchos_GlobalMPISession.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Teuchos__GlobalMPISession_8hpp_source.html">Teuchos_GlobalMPISession.hpp</a></li>
<li><a class="el" href="Teuchos__GlobalMPISession_8cpp_source.html">Teuchos_GlobalMPISession.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
