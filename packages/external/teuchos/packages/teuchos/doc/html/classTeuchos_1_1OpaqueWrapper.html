<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Teuchos - Trilinos Tools Package: Teuchos::OpaqueWrapper&lt; Opaque &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Teuchos - Trilinos Tools Package
   &#160;<span id="projectnumber">Version of the Day</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceTeuchos.html">Teuchos</a></li><li class="navelem"><a class="el" href="classTeuchos_1_1OpaqueWrapper.html">OpaqueWrapper</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#related">Related Functions</a> &#124;
<a href="classTeuchos_1_1OpaqueWrapper-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Teuchos::OpaqueWrapper&lt; Opaque &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__teuchos__mem__mng__grp.html">Teuchos Memory Management Utilities</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Base class for wrapped opaque objects.  
 <a href="classTeuchos_1_1OpaqueWrapper.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Teuchos__OpaqueWrapper_8hpp_source.html">Teuchos_OpaqueWrapper.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Teuchos::OpaqueWrapper&lt; Opaque &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classTeuchos_1_1OpaqueWrapper.png" usemap="#Teuchos::OpaqueWrapper_3C_20Opaque_20_3E_map" alt=""/>
  <map id="Teuchos::OpaqueWrapper_3C_20Opaque_20_3E_map" name="Teuchos::OpaqueWrapper&lt; Opaque &gt;_map">
<area href="classTeuchos_1_1OpaqueWrapperWithFree.html" title="Subclass for wrapped opaque objects with a free function. " alt="Teuchos::OpaqueWrapperWithFree&lt; Opaque, OpaqueFree &gt;" shape="rect" coords="0,56,358,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2d6ab7d91ff5767b66c87703a007440b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1OpaqueWrapper.html#a2d6ab7d91ff5767b66c87703a007440b">OpaqueWrapper</a> (Opaque opaque)</td></tr>
<tr class="memdesc:a2d6ab7d91ff5767b66c87703a007440b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor that accepts and wraps a raw handle.  <a href="#a2d6ab7d91ff5767b66c87703a007440b">More...</a><br /></td></tr>
<tr class="separator:a2d6ab7d91ff5767b66c87703a007440b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4de59b7f79e387988de1667007a41e51"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1OpaqueWrapper.html#a4de59b7f79e387988de1667007a41e51">operator Opaque</a> () const </td></tr>
<tr class="memdesc:a4de59b7f79e387988de1667007a41e51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implicit type conversion from wrapper to raw handle.  <a href="#a4de59b7f79e387988de1667007a41e51">More...</a><br /></td></tr>
<tr class="separator:a4de59b7f79e387988de1667007a41e51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9ce67bdb91f229062dc60db12d90dac"><td class="memItemLeft" align="right" valign="top">Opaque&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1OpaqueWrapper.html#ae9ce67bdb91f229062dc60db12d90dac">operator()</a> () const </td></tr>
<tr class="memdesc:ae9ce67bdb91f229062dc60db12d90dac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Explicit type conversion from wrapper to raw handle.  <a href="#ae9ce67bdb91f229062dc60db12d90dac">More...</a><br /></td></tr>
<tr class="separator:ae9ce67bdb91f229062dc60db12d90dac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ab13132cdb97c3d9ba0f0cde1c225c037"><td class="memItemLeft" align="right" valign="top">Opaque&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1OpaqueWrapper.html#ab13132cdb97c3d9ba0f0cde1c225c037">opaque_</a></td></tr>
<tr class="memdesc:ab13132cdb97c3d9ba0f0cde1c225c037"><td class="mdescLeft">&#160;</td><td class="mdescRight">The actual handle.  <a href="#ab13132cdb97c3d9ba0f0cde1c225c037">More...</a><br /></td></tr>
<tr class="separator:ab13132cdb97c3d9ba0f0cde1c225c037"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="related"></a>
Related Functions</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>(Note that these are not member functions.) </p>
</td></tr>
<tr class="memitem:a8770e064ea0d612c9cbbe84463186c5c"><td class="memTemplParams" colspan="2">template&lt;class Opaque &gt; </td></tr>
<tr class="memitem:a8770e064ea0d612c9cbbe84463186c5c"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classTeuchos_1_1RCP.html">RCP</a>&lt; <a class="el" href="classTeuchos_1_1OpaqueWrapper.html">OpaqueWrapper</a>&lt; Opaque &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1OpaqueWrapper.html#a8770e064ea0d612c9cbbe84463186c5c">opaqueWrapper</a> (Opaque opaque)</td></tr>
<tr class="memdesc:a8770e064ea0d612c9cbbe84463186c5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new <code><a class="el" href="classTeuchos_1_1OpaqueWrapper.html" title="Base class for wrapped opaque objects. ">OpaqueWrapper</a></code> object without a free function.  <a href="#a8770e064ea0d612c9cbbe84463186c5c">More...</a><br /></td></tr>
<tr class="separator:a8770e064ea0d612c9cbbe84463186c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2f32abac0b3105156d4da619f78d542"><td class="memTemplParams" colspan="2">template&lt;class Opaque , class OpaqueFree &gt; </td></tr>
<tr class="memitem:ae2f32abac0b3105156d4da619f78d542"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classTeuchos_1_1RCP.html">RCP</a>&lt; <a class="el" href="classTeuchos_1_1OpaqueWrapper.html">OpaqueWrapper</a>&lt; Opaque &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classTeuchos_1_1OpaqueWrapper.html#ae2f32abac0b3105156d4da619f78d542">opaqueWrapper</a> (Opaque opaque, OpaqueFree opaqueFree)</td></tr>
<tr class="memdesc:ae2f32abac0b3105156d4da619f78d542"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new <code><a class="el" href="classTeuchos_1_1OpaqueWrapper.html" title="Base class for wrapped opaque objects. ">OpaqueWrapper</a></code> object with a free function.  <a href="#ae2f32abac0b3105156d4da619f78d542">More...</a><br /></td></tr>
<tr class="separator:ae2f32abac0b3105156d4da619f78d542"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class Opaque&gt;<br />
class Teuchos::OpaqueWrapper&lt; Opaque &gt;</h3>

<p>Base class for wrapped opaque objects. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Opaque</td><td>Type of the opaque object (a.k.a. handle).</td></tr>
  </table>
  </dd>
</dl>
<p>If you want to <em>create</em> an <a class="el" href="classTeuchos_1_1RCP.html" title="Smart reference counting pointer class for automatic garbage collection. ">RCP</a> to an opaque object, use the <a class="el" href="classTeuchos_1_1OpaqueWrapper.html#a8770e064ea0d612c9cbbe84463186c5c" title="Create a new OpaqueWrapper object without a free function. ">opaqueWrapper()</a> nonmember template function. The <em>type</em> of an <a class="el" href="classTeuchos_1_1RCP.html" title="Smart reference counting pointer class for automatic garbage collection. ">RCP</a> to an opaque object T is <code><a class="el" href="classTeuchos_1_1RCP.html" title="Smart reference counting pointer class for automatic garbage collection. ">RCP</a>&lt;OpaqueWrapper&lt;T&gt; &gt;</code>.</p>
<p>In order to understand this documentation, you must first have learned how to use <a class="el" href="classTeuchos_1_1RCP.html" title="Smart reference counting pointer class for automatic garbage collection. ">RCP</a> (<a class="el" href="namespaceTeuchos.html" title="The Teuchos namespace contains all of the classes, structs and enums used by Teuchos, as well as a number of utility routines. ">Teuchos</a>' reference-counted pointer class) to manage dynamically allocated memory and other resources. It also helps to be familiar with MPI (the Message Passing Interface for distributed-memory parallel programming), but this is not required.</p>
<p>Many different software libraries use the <em>opaque object</em> or opaque handle idiom to hide the internals of a data structure from users. This standard technique allows users to treat an instance of a data structure as a handle. Users may pass the handle around as if it were a simple value type (like int), and must call nonmember functions in order to create, operate on, use, or destroy instances of the data structure. The MPI (Message Passing Interface) standard is full of examples of the opaque object idiom, including MPI_Comm (for communicators), MPI_Datatype (for standard and custom data types), and MPI_Op (for standard and custom reduction operations).</p>
<p>Opaque handles are a useful technique, but they interfere with correct use of <a class="el" href="classTeuchos_1_1RCP.html" title="Smart reference counting pointer class for automatic garbage collection. ">RCP</a>, as we will explain below. This base class allows opaque objects to be wrapped by a real object, whose address you can take. This is needed in order to wrap an opaque object in a <a class="el" href="classTeuchos_1_1RCP.html" title="Smart reference counting pointer class for automatic garbage collection. ">RCP</a>, for example.</p>
<p>This class was motivated in particular by MPI's common use of the opaque object idiom. For MPI, passing MPI_Comm, MPI_Datatype, and MPI_Op objects around by handles hides implementation details from the user. Handles also make it easier to access MPI functionality from Fortran, so that C, C++, and Fortran can all share the same handle mechanism. In fact, some MPI implementations (such as MPICH, at least historically if not currently) simply implement these handles all as integers. (As the MPI standard's advice to implementers suggests, such an implementation would likely maintain a table for each MPI process that maps the integer value to a pointer to the corresponding object.) For example, MPI_Comm might be a typedef to int, and MPI_COMM_WORLD might be a literal integer value:</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keywordtype">int</span> MPI_Comm;</div><div class="line"><span class="preprocessor">#define MPI_COMM_WORLD 42</span></div></div><!-- fragment --><p>In this case, the expression <code>rcp(&amp;MPI_COMM_WORLD)</code> would not even compile, since one cannot take the address of an integer literal. To make this this compile, one might try the following:</p>
<div class="fragment"><div class="line"><span class="comment">// THIS FUNCTION IS WRONG.  IT MAY SEGFAULT.</span></div><div class="line"><a class="code" href="classTeuchos_1_1RCP.html">Teuchos::RCP&lt;MPI_Comm&gt;</a> getMpiCommPtr()</div><div class="line">{</div><div class="line">  MPI_Comm comm = MPI_COMM_WORLD;</div><div class="line">  <span class="comment">// WRONG!!!  comm is a stack variable!</span></div><div class="line">  <span class="keywordflow">return</span> <a class="code" href="namespaceTeuchos.html#a8ce99105ee4c7203a1ecb670a198671a">Teuchos::rcp</a> (&amp;comm, <span class="keyword">false</span>);</div><div class="line">}</div></div><!-- fragment --><p>Using the returned communicator would result in undefined behavior, which in practice might be a segfault, memory corruption, or MPI getting severely confused. This is because the stack variable <code>comm</code>, which may be just an integer, disappears at the end of the function. Its address would no longer point to valid memory after the function returns.</p>
<p>The following code is syntactically correct, but may leak memory:</p>
<div class="fragment"><div class="line"><span class="comment">// THIS CODE LEAKS MEMORY FOR GENERAL MPI_Comm OBJECTS.</span></div><div class="line"><a class="code" href="classTeuchos_1_1RCP.html">Teuchos::RCP&lt;MPI_Comm&gt;</a> getMpiCommPtr (MPI_Comm comm)</div><div class="line">{</div><div class="line">  MPI_Comm *pComm = <span class="keyword">new</span> MPI_Comm (comm);</div><div class="line">  <span class="comment">// Works for comm==MPI_COMM_WORLD or MPI_COMM_SELF;</span></div><div class="line">  <span class="comment">// leaks memory for user-created MPI_Comm objects.</span></div><div class="line">  <span class="keywordflow">return</span> <a class="code" href="namespaceTeuchos.html#a8ce99105ee4c7203a1ecb670a198671a">Teuchos::rcp</a> (pComm);</div><div class="line">}</div></div><!-- fragment --><p>The above implementation of getMpiCommPtr() is correct only for the standard MPI_Comm objects provided by MPI, like MPI_COMM_WORLD and MPI_COMM_SELF. It is <em>not</em> correct, and in fact may leak memory, for custom MPI_Comm objects that the user creates by calling functions like MPI_Comm_split(). This is because user-created MPI_Comm objects must be freed by MPI_Comm_free(). Other kinds of opaque objects, like MPI_Datatype and MPI_Op, have their own free functions. Thus, even if opaque handles have the type integer, they really behave like pointers or references. Some of them can and should be freed at the end of their useful lives; others must not. (Compare std::ostream; std::cout should never be closed by typical user code, but an output file should be closed.)</p>
<p>We work around this by providing the <a class="el" href="classTeuchos_1_1OpaqueWrapper.html" title="Base class for wrapped opaque objects. ">OpaqueWrapper</a> template base class and the <a class="el" href="classTeuchos_1_1OpaqueWrapper.html#a8770e064ea0d612c9cbbe84463186c5c" title="Create a new OpaqueWrapper object without a free function. ">opaqueWrapper()</a> nonmember template function. Use this function to wrap an opaque handle (like an MPI_Comm) in an <a class="el" href="classTeuchos_1_1RCP.html" title="Smart reference counting pointer class for automatic garbage collection. ">RCP</a>. This ensures that the <a class="el" href="classTeuchos_1_1RCP.html" title="Smart reference counting pointer class for automatic garbage collection. ">RCP</a> does the right thing in case the handle must be freed. For example, to wrap MPI_COMM_WORLD in a <a class="el" href="classTeuchos_1_1RCP.html" title="Smart reference counting pointer class for automatic garbage collection. ">RCP</a>, just do this:</p>
<div class="fragment"><div class="line">RCP&lt;OpaqueWrapper&lt;MPI_Comm&gt; &gt; comm = <a class="code" href="classTeuchos_1_1OpaqueWrapper.html#a8770e064ea0d612c9cbbe84463186c5c">opaqueWrapper</a> (MPI_COMM_WORLD);</div></div><!-- fragment --><p>If you instead want to create a custom MPI_Comm using a function like MPI_Comm_split(), then you may wrap it in an <a class="el" href="classTeuchos_1_1RCP.html" title="Smart reference counting pointer class for automatic garbage collection. ">RCP</a> as follows:</p>
<div class="fragment"><div class="line">MPI_Comm rawComm;</div><div class="line"><span class="comment">// We omit all arguments but the last of MPI_Comm_split, for clarity.</span></div><div class="line"><span class="keywordtype">int</span> errCode = MPI_Comm_split (..., &amp;rawComm);</div><div class="line"><span class="keywordflow">if</span> (errCode != MPI_SUCCESS) {</div><div class="line">  <span class="comment">// Handle the error</span></div><div class="line">}</div><div class="line">RCP&lt;OpaqueWrapper&lt;MPI_Comm&gt; &gt; comm = <a class="code" href="classTeuchos_1_1OpaqueWrapper.html#a8770e064ea0d612c9cbbe84463186c5c">opaqueWrapper</a> (rawComm, MPI_Comm_free);</div></div><!-- fragment --><p>The second argument to <a class="el" href="classTeuchos_1_1OpaqueWrapper.html#a8770e064ea0d612c9cbbe84463186c5c" title="Create a new OpaqueWrapper object without a free function. ">opaqueWrapper()</a> is a "free" function. It takes a pointer to the opaque handle, and its return value (if any) is ignored. Users are responsible for knowing whether to provide a free function to <a class="el" href="classTeuchos_1_1OpaqueWrapper.html#a8770e064ea0d612c9cbbe84463186c5c" title="Create a new OpaqueWrapper object without a free function. ">opaqueWrapper()</a>. In this case, because we created an MPI_Comm dynamically using a communicator "constructor" function, the MPI_Comm must be "freed" after use. <a class="el" href="classTeuchos_1_1RCP.html" title="Smart reference counting pointer class for automatic garbage collection. ">RCP</a> will automatically call the "free" function once the reference count of <code>comm</code> reaches zero.</p>
<p>Users are not allowed to construct an <a class="el" href="classTeuchos_1_1OpaqueWrapper.html" title="Base class for wrapped opaque objects. ">OpaqueWrapper</a> object explicitly. You must use the <a class="el" href="classTeuchos_1_1OpaqueWrapper.html#a8770e064ea0d612c9cbbe84463186c5c" title="Create a new OpaqueWrapper object without a free function. ">opaqueWrapper()</a> nonmember function to do so. </p>

<p>Definition at line <a class="el" href="Teuchos__OpaqueWrapper_8hpp_source.html#l00210">210</a> of file <a class="el" href="Teuchos__OpaqueWrapper_8hpp_source.html">Teuchos_OpaqueWrapper.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2d6ab7d91ff5767b66c87703a007440b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Opaque&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTeuchos_1_1OpaqueWrapper.html">Teuchos::OpaqueWrapper</a>&lt; Opaque &gt;::<a class="el" href="classTeuchos_1_1OpaqueWrapper.html">OpaqueWrapper</a> </td>
          <td>(</td>
          <td class="paramtype">Opaque&#160;</td>
          <td class="paramname"><em>opaque</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor that accepts and wraps a raw handle. </p>
<p>Users typically never have to invoke the constructor explicitly. The <a class="el" href="classTeuchos_1_1OpaqueWrapper.html#a8770e064ea0d612c9cbbe84463186c5c" title="Create a new OpaqueWrapper object without a free function. ">opaqueWrapper()</a> nonmember template function does this for them. </p>

<p>Definition at line <a class="el" href="Teuchos__OpaqueWrapper_8hpp_source.html#l00216">216</a> of file <a class="el" href="Teuchos__OpaqueWrapper_8hpp_source.html">Teuchos_OpaqueWrapper.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a4de59b7f79e387988de1667007a41e51"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Opaque&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTeuchos_1_1OpaqueWrapper.html">Teuchos::OpaqueWrapper</a>&lt; Opaque &gt;::operator Opaque </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implicit type conversion from wrapper to raw handle. </p>
<p>Users typically never have to convert directly from an <a class="el" href="classTeuchos_1_1OpaqueWrapper.html" title="Base class for wrapped opaque objects. ">OpaqueWrapper</a> to the raw handle that it wraps. For example, if you have an <code><a class="el" href="classTeuchos_1_1RCP.html" title="Smart reference counting pointer class for automatic garbage collection. ">RCP</a>&lt;OpaqueHandle&lt;T&gt; &gt;</code>, just deferencing the <a class="el" href="classTeuchos_1_1RCP.html" title="Smart reference counting pointer class for automatic garbage collection. ">RCP</a> will return the raw handle via this implicit type conversion operator: </p><div class="fragment"><div class="line"><span class="comment">// We omit the right-hand side of this assignment, for simplicity.</span></div><div class="line">RCP&lt;OpaqueWrapper&lt;T&gt; &gt; wrapped = ...;</div><div class="line"><span class="comment">// RCP&#39;s &lt;tt&gt;operator*&lt;/tt&gt; returns OpaqueWrapper&lt;T&gt;&amp;.</span></div><div class="line"><span class="comment">// In turn, the operator below automatically converts to T.</span></div><div class="line">T raw = *wrapped;</div></div><!-- fragment --> 
<p>Definition at line <a class="el" href="Teuchos__OpaqueWrapper_8hpp_source.html#l00233">233</a> of file <a class="el" href="Teuchos__OpaqueWrapper_8hpp_source.html">Teuchos_OpaqueWrapper.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae9ce67bdb91f229062dc60db12d90dac"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Opaque&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Opaque <a class="el" href="classTeuchos_1_1OpaqueWrapper.html">Teuchos::OpaqueWrapper</a>&lt; Opaque &gt;::operator() </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Explicit type conversion from wrapper to raw handle. </p>
<p>Users typically never have to convert directly from an <a class="el" href="classTeuchos_1_1OpaqueWrapper.html" title="Base class for wrapped opaque objects. ">OpaqueWrapper</a> to the raw handle that it wraps. However, in case they do, we provide this operator. </p>

<p>Definition at line <a class="el" href="Teuchos__OpaqueWrapper_8hpp_source.html#l00240">240</a> of file <a class="el" href="Teuchos__OpaqueWrapper_8hpp_source.html">Teuchos_OpaqueWrapper.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a8770e064ea0d612c9cbbe84463186c5c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Opaque &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTeuchos_1_1RCP.html">RCP</a>&lt; <a class="el" href="classTeuchos_1_1OpaqueWrapper.html">OpaqueWrapper</a>&lt; Opaque &gt; &gt; opaqueWrapper </td>
          <td>(</td>
          <td class="paramtype">Opaque&#160;</td>
          <td class="paramname"><em>opaque</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new <code><a class="el" href="classTeuchos_1_1OpaqueWrapper.html" title="Base class for wrapped opaque objects. ">OpaqueWrapper</a></code> object without a free function. </p>
<p>See the documentation of <a class="el" href="classTeuchos_1_1OpaqueWrapper.html" title="Base class for wrapped opaque objects. ">OpaqueWrapper</a> for a detailed explanation of why and how to use this function. </p>

<p>Definition at line <a class="el" href="Teuchos__OpaqueWrapper_8hpp_source.html#l00325">325</a> of file <a class="el" href="Teuchos__OpaqueWrapper_8hpp_source.html">Teuchos_OpaqueWrapper.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae2f32abac0b3105156d4da619f78d542"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Opaque , class OpaqueFree &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTeuchos_1_1RCP.html">RCP</a>&lt; <a class="el" href="classTeuchos_1_1OpaqueWrapper.html">OpaqueWrapper</a>&lt; Opaque &gt; &gt; opaqueWrapper </td>
          <td>(</td>
          <td class="paramtype">Opaque&#160;</td>
          <td class="paramname"><em>opaque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">OpaqueFree&#160;</td>
          <td class="paramname"><em>opaqueFree</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">related</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new <code><a class="el" href="classTeuchos_1_1OpaqueWrapper.html" title="Base class for wrapped opaque objects. ">OpaqueWrapper</a></code> object with a free function. </p>
<p>See the documentation of <a class="el" href="classTeuchos_1_1OpaqueWrapper.html" title="Base class for wrapped opaque objects. ">OpaqueWrapper</a> for a detailed explanation of why and how to use this function. </p>

<p>Definition at line <a class="el" href="Teuchos__OpaqueWrapper_8hpp_source.html#l00341">341</a> of file <a class="el" href="Teuchos__OpaqueWrapper_8hpp_source.html">Teuchos_OpaqueWrapper.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ab13132cdb97c3d9ba0f0cde1c225c037"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Opaque&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Opaque <a class="el" href="classTeuchos_1_1OpaqueWrapper.html">Teuchos::OpaqueWrapper</a>&lt; Opaque &gt;::opaque_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The actual handle. </p>
<p>This is protected and not private so that <a class="el" href="classTeuchos_1_1OpaqueWrapperWithFree.html" title="Subclass for wrapped opaque objects with a free function. ">OpaqueWrapperWithFree</a> can access it. In general, one should avoid using protected data, but it would be silly to add member functions just for this simple use case. </p>

<p>Definition at line <a class="el" href="Teuchos__OpaqueWrapper_8hpp_source.html#l00249">249</a> of file <a class="el" href="Teuchos__OpaqueWrapper_8hpp_source.html">Teuchos_OpaqueWrapper.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Teuchos__OpaqueWrapper_8hpp_source.html">Teuchos_OpaqueWrapper.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
